# å‰ç«¯è”è°ƒæµ‹è¯•æŒ‡å—

## âœ… åˆçº¦å·²éƒ¨ç½²

ä½ çš„åˆçº¦å·²æˆåŠŸéƒ¨ç½²åˆ°æœ¬åœ° Anvil èŠ‚ç‚¹ï¼š

```
AttentionToken: 0x5FbDB2315678afecb367f032d93F642f64180aa3
StreamerStakingPool: 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512
ViewerRewardPool: 0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0
```

å‰ç«¯é…ç½®å·²è‡ªåŠ¨æ›´æ–°ï¼âœ¨

## ğŸš€ å¯åŠ¨å‰ç«¯

### 1. å®‰è£…ä¾èµ–ï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰

```bash
cd AttentionLive
npm install
# æˆ–
pnpm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
# æˆ–
pnpm dev
```

è®¿é—®: http://localhost:3000

## ğŸ¦Š é…ç½® MetaMask

### 1. æ·»åŠ æœ¬åœ°ç½‘ç»œ

åœ¨ MetaMask ä¸­æ·»åŠ è‡ªå®šä¹‰ç½‘ç»œï¼š

- **Network Name**: `Localhost 8545`
- **RPC URL**: `http://127.0.0.1:8545`
- **Chain ID**: `31337`
- **Currency Symbol**: `ETH`

### 2. å¯¼å…¥æµ‹è¯•è´¦æˆ·

ä½¿ç”¨ Anvil æä¾›çš„ç§é’¥å¯¼å…¥è´¦æˆ·ï¼š

**è´¦æˆ· 0 (Deployer/Owner):**
- åœ°å€: `0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266`
- ç§é’¥: `0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80`
- ä½™é¢: ~10000 ETH + 85M ATT

**è´¦æˆ· 1 (Streamer):**
- åœ°å€: `0x70997970C51812dc3A010C7d01b50e0d17dc79C8`
- ç§é’¥: `0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d`
- ä½™é¢: ~10000 ETH

**è´¦æˆ· 2 (Viewer):**
- åœ°å€: `0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC`
- ç§é’¥: `0x5de4111afa1a4b94908f83103eb1f1706367c2e68ca870fc3fb9a804cdab365a`
- ä½™é¢: ~10000 ETH

## ğŸ§ª æµ‹è¯•æµç¨‹

### å‡†å¤‡å·¥ä½œï¼šç»™ä¸»æ’­è½¬ ATT ä»£å¸

ä½¿ç”¨ Cast å‘½ä»¤æˆ–åœ¨å‰ç«¯æ“ä½œï¼š

```bash
# ä½¿ç”¨ Owner è´¦æˆ·ç»™ Streamer è½¬è´¦
cast send 0x5FbDB2315678afecb367f032d93F642f64180aa3 \
  "transfer(address,uint256)" \
  0x70997970C51812dc3A010C7d01b50e0d17dc79C8 \
  100000000000000000000000 \
  --rpc-url http://127.0.0.1:8545 \
  --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
```

### æµ‹è¯•åœºæ™¯ 1: ä¸»æ’­è´¨æŠ¼æµç¨‹

#### æ­¥éª¤ 1: è¿æ¥é’±åŒ…
1. è®¿é—® http://localhost:3000/staking
2. ç‚¹å‡»å³ä¸Šè§’ "Connect Wallet"
3. é€‰æ‹© MetaMask
4. åˆ‡æ¢åˆ° **Localhost 8545** ç½‘ç»œ
5. é€‰æ‹© **è´¦æˆ· 1 (Streamer)**

#### æ­¥éª¤ 2: æŸ¥çœ‹ä½™é¢
- åº”è¯¥çœ‹åˆ°ä½ çš„ ATT ä½™é¢ï¼ˆå¦‚æœè½¬è´¦æˆåŠŸï¼‰
- å¦‚æœä½™é¢ä¸º 0ï¼Œä½¿ç”¨ä¸Šé¢çš„ cast å‘½ä»¤è½¬è´¦

#### æ­¥éª¤ 3: åˆ›å»ºè´¨æŠ¼ä»»åŠ¡
1. é€‰æ‹© "Streamer Staking" æ ‡ç­¾
2. è¾“å…¥è´¨æŠ¼é‡‘é¢: `10000` (ATT)
3. è¾“å…¥æ—¶é•¿: `3600` (1å°æ—¶ = 3600ç§’)
4. è¾“å…¥å¥–åŠ±ç‡: `500` (5% = 500åŸºç‚¹)
5. ç‚¹å‡» "1. Approve ATT" æŒ‰é’®
6. åœ¨ MetaMask ä¸­ç¡®è®¤äº¤æ˜“
7. ç­‰å¾…äº¤æ˜“ç¡®è®¤
8. ç‚¹å‡» "2. Create Task" æŒ‰é’®
9. åœ¨ MetaMask ä¸­ç¡®è®¤äº¤æ˜“
10. ç­‰å¾…äº¤æ˜“ç¡®è®¤

#### æ­¥éª¤ 4: æŸ¥çœ‹ä»»åŠ¡
1. è®¿é—® http://localhost:3000/staking/my-tasks
2. åº”è¯¥çœ‹åˆ°åˆšåˆ›å»ºçš„ä»»åŠ¡
3. çŠ¶æ€æ˜¾ç¤ºä¸º "Active"

#### æ­¥éª¤ 5: æ¨¡æ‹Ÿè§‚ä¼—å‚ä¸ï¼ˆä½¿ç”¨ Castï¼‰

```bash
# åˆ‡æ¢åˆ° Owner è´¦æˆ·æ›´æ–°è§‚ä¼—æ•°æ®
cast send 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 \
  "updateViewerData(uint256,uint256,uint256)" \
  1 100 5000 \
  --rpc-url http://127.0.0.1:8545 \
  --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
```

#### æ­¥éª¤ 6: å¿«è¿›æ—¶é—´ï¼ˆæ¨¡æ‹Ÿä»»åŠ¡ç»“æŸï¼‰

```bash
# å¿«è¿› 3601 ç§’
cast rpc evm_increaseTime 3601 --rpc-url http://127.0.0.1:8545
cast rpc evm_mine --rpc-url http://127.0.0.1:8545
```

#### æ­¥éª¤ 7: ç»“æŸä»»åŠ¡
1. åˆ·æ–° http://localhost:3000/staking/my-tasks
2. ç‚¹å‡» "End Task" æŒ‰é’®
3. ç¡®è®¤äº¤æ˜“
4. ç­‰å¾…ç¡®è®¤

#### æ­¥éª¤ 8: é¢†å–å¥–åŠ±
1. ä»»åŠ¡çŠ¶æ€å˜ä¸º "Ended"
2. ç‚¹å‡» "Claim Reward" æŒ‰é’®
3. ç¡®è®¤äº¤æ˜“
4. æŸ¥çœ‹ä½™é¢å¢åŠ 

#### æ­¥éª¤ 9: ç­‰å¾…å†·å´æœŸåæå–è´¨æŠ¼
```bash
# å¿«è¿› 10 ç§’ï¼ˆæµ‹è¯•é…ç½®ï¼‰
cast rpc evm_increaseTime 10 --rpc-url http://127.0.0.1:8545
cast rpc evm_mine --rpc-url http://127.0.0.1:8545
```

1. åˆ·æ–°é¡µé¢
2. ç‚¹å‡» "Unstake" æŒ‰é’®
3. ç¡®è®¤äº¤æ˜“
4. è´¨æŠ¼ä»£å¸è¿”è¿˜

### æµ‹è¯•åœºæ™¯ 2: è§‚ä¼—å¥–åŠ±æµç¨‹

#### æ­¥éª¤ 1: æ·»åŠ ç§¯åˆ†ï¼ˆä½¿ç”¨ Castï¼‰

```bash
# Owner ç»™ Viewer æ·»åŠ ç§¯åˆ†
cast send 0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0 \
  "addPoints(address,uint256,uint256)" \
  0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC \
  5000 \
  1 \
  --rpc-url http://127.0.0.1:8545 \
  --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
```

#### æ­¥éª¤ 2: åˆ‡æ¢åˆ°è§‚ä¼—è´¦æˆ·
1. åœ¨ MetaMask ä¸­åˆ‡æ¢åˆ° **è´¦æˆ· 2 (Viewer)**
2. åˆ·æ–°é¡µé¢

#### æ­¥éª¤ 3: æŸ¥çœ‹ç§¯åˆ†
1. é€‰æ‹© "Viewer Rewards" æ ‡ç­¾
2. åº”è¯¥çœ‹åˆ°:
   - Total Points: 5000
   - Pending Points: 5000
   - Claimable ATT: 5

#### æ­¥éª¤ 4: é¢†å–å¥–åŠ±
1. ç‚¹å‡» "Claim Rewards" æŒ‰é’®
2. ç¡®è®¤äº¤æ˜“
3. æŸ¥çœ‹ ATT ä½™é¢å¢åŠ  5 ä¸ªä»£å¸

## ğŸ› å¸¸è§é—®é¢˜

### Q: è¿æ¥é’±åŒ…åçœ‹ä¸åˆ°ä½™é¢ï¼Ÿ

**A:** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®ä¿ Anvil æ­£åœ¨è¿è¡Œ
2. ç¡®ä¿ MetaMask è¿æ¥åˆ° Localhost 8545 ç½‘ç»œ
3. ç¡®ä¿ä½¿ç”¨äº†æ­£ç¡®çš„è´¦æˆ·
4. åˆ·æ–°é¡µé¢

### Q: äº¤æ˜“å¤±è´¥ï¼Ÿ

**A:** å¯èƒ½çš„åŸå› ï¼š
1. Gas ä¸è¶³ï¼ˆä¸å¤ªå¯èƒ½ï¼Œæµ‹è¯•è´¦æˆ·æœ‰ 10000 ETHï¼‰
2. åˆçº¦åœ°å€é”™è¯¯ï¼ˆæ£€æŸ¥ `lib/contracts/staking.ts`ï¼‰
3. å‚æ•°ä¸æ­£ç¡®ï¼ˆæ£€æŸ¥è¾“å…¥å€¼ï¼‰
4. çŠ¶æ€ä¸å¯¹ï¼ˆä¾‹å¦‚ä»»åŠ¡è¿˜æ²¡ç»“æŸå°±å°è¯•é¢†å–å¥–åŠ±ï¼‰

### Q: çœ‹ä¸åˆ°ä»»åŠ¡åˆ—è¡¨ï¼Ÿ

**A:** 
1. ç¡®ä¿ä½¿ç”¨åˆ›å»ºä»»åŠ¡çš„è´¦æˆ·æŸ¥çœ‹
2. åˆ·æ–°é¡µé¢
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

### Q: æ— æ³•åˆ›å»ºä»»åŠ¡ï¼Ÿ

**A:**
1. ç¡®ä¿å·²æˆæƒ ATT ä»£å¸
2. ç¡®ä¿ä½™é¢è¶³å¤Ÿï¼ˆè‡³å°‘ 1000 ATTï¼‰
3. æ£€æŸ¥å‚æ•°èŒƒå›´ï¼š
   - è´¨æŠ¼é‡‘é¢ â‰¥ 1000 ATT
   - æ—¶é•¿: 300-86400 ç§’
   - å¥–åŠ±ç‡: 100-5000 åŸºç‚¹

## ğŸ“Š æµ‹è¯•æ£€æŸ¥æ¸…å•

### å‰ç«¯åŠŸèƒ½
- [ ] è¿æ¥ MetaMask
- [ ] æ˜¾ç¤º ATT ä½™é¢
- [ ] æˆæƒ ATT ä»£å¸
- [ ] åˆ›å»ºè´¨æŠ¼ä»»åŠ¡
- [ ] æŸ¥çœ‹ä»»åŠ¡åˆ—è¡¨
- [ ] æ˜¾ç¤ºä»»åŠ¡çŠ¶æ€
- [ ] ç»“æŸä»»åŠ¡
- [ ] é¢†å–å¥–åŠ±
- [ ] æå–è´¨æŠ¼
- [ ] æŸ¥çœ‹è§‚ä¼—ç§¯åˆ†
- [ ] é¢†å–è§‚ä¼—å¥–åŠ±

### UI/UX
- [ ] åŠ è½½çŠ¶æ€æ˜¾ç¤º
- [ ] äº¤æ˜“ç¡®è®¤åé¦ˆ
- [ ] é”™è¯¯æç¤º
- [ ] å“åº”å¼è®¾è®¡
- [ ] æ·±è‰²æ¨¡å¼

### æ•°æ®å‡†ç¡®æ€§
- [ ] ä½™é¢æ­£ç¡®æ˜¾ç¤º
- [ ] ä»»åŠ¡ä¿¡æ¯å‡†ç¡®
- [ ] å¥–åŠ±è®¡ç®—æ­£ç¡®
- [ ] çŠ¶æ€æ›´æ–°åŠæ—¶

## ğŸ¨ è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°

æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ŒæŸ¥çœ‹ï¼š
- ç½‘ç»œè¯·æ±‚
- æ§åˆ¶å°é”™è¯¯
- React ç»„ä»¶çŠ¶æ€

### 2. ä½¿ç”¨ Cast éªŒè¯é“¾ä¸Šæ•°æ®

```bash
# æŸ¥è¯¢ä½™é¢
cast call 0x5FbDB2315678afecb367f032d93F642f64180aa3 \
  "balanceOf(address)(uint256)" \
  <YOUR_ADDRESS>

# æŸ¥è¯¢ä»»åŠ¡è¯¦æƒ…
cast call 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512 \
  "tasks(uint256)" 1

# æŸ¥è¯¢è§‚ä¼—è´¦æˆ·
cast call 0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0 \
  "getViewerAccount(address)" \
  <VIEWER_ADDRESS>
```

### 3. é‡ç½® Anvil

å¦‚æœé‡åˆ°å¥‡æ€ªçš„é—®é¢˜ï¼Œé‡å¯ Anvilï¼š

```bash
# Ctrl+C åœæ­¢ Anvil
# é‡æ–°å¯åŠ¨
anvil
```

ç„¶åé‡æ–°éƒ¨ç½²åˆçº¦ã€‚

## ğŸ“ æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

æµ‹è¯•å®Œæˆåï¼Œè®°å½•ä»¥ä¸‹ä¿¡æ¯ï¼š

```
æµ‹è¯•æ—¥æœŸ: ___________
æµ‹è¯•äººå‘˜: ___________

åŠŸèƒ½æµ‹è¯•:
âœ…/âŒ ä¸»æ’­è´¨æŠ¼
âœ…/âŒ ä»»åŠ¡ç®¡ç†
âœ…/âŒ å¥–åŠ±é¢†å–
âœ…/âŒ è´¨æŠ¼æå–
âœ…/âŒ è§‚ä¼—å¥–åŠ±

å‘ç°çš„é—®é¢˜:
1. ___________
2. ___________

å»ºè®®æ”¹è¿›:
1. ___________
2. ___________
```

## ğŸ‰ æµ‹è¯•æˆåŠŸï¼

å¦‚æœæ‰€æœ‰åŠŸèƒ½éƒ½æ­£å¸¸å·¥ä½œï¼Œæ­å–œä½ ï¼è´¨æŠ¼ç³»ç»Ÿå·²ç»å¯ä»¥ä½¿ç”¨äº†ã€‚

ä¸‹ä¸€æ­¥å¯ä»¥è€ƒè™‘ï¼š
1. éƒ¨ç½²åˆ° BSC æµ‹è¯•ç½‘
2. æ·»åŠ æ›´å¤šåŠŸèƒ½
3. ä¼˜åŒ– UI/UX
4. æ·»åŠ æ›´å¤šæµ‹è¯•ç”¨ä¾‹

ç¥æµ‹è¯•é¡ºåˆ©ï¼ğŸš€
